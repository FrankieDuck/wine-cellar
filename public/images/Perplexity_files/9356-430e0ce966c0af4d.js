!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a9534908-3ef9-4b30-a239-3ba165cba26f",e._sentryDebugIdIdentifier="sentry-dbid-a9534908-3ef9-4b30-a239-3ba165cba26f")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9356],{56373:function(){},3747:function(e,t,n){"use strict";n.d(t,{$e:function(){return s},FX:function(){return c},HL:function(){return p},aG:function(){return a},aX:function(){return d},i8:function(){return h},vX:function(){return v},xo:function(){return E}});var r=n(12848),o=n(66998),i=n(28454),l=n(32608);let u="TimeoutError",a=2,c=async e=>_(e),s=async e=>d(e),d=async e=>{let t=(0,r.LY)();return await _({...e,baseUrlOverride:t})},f=async e=>{let{resource:t,options:n,timeoutMs:r,method:o,body:l,numRetries:c=0,backOffTime:s=1e3}=e,d={...n,method:null!=o?o:"GET",body:null!=l?l:null},f=()=>null;r&&(f=()=>{let e=new DOMException("fetch ".concat(t," timed out (").concat(r,"ms)"),u),n=new AbortController;return d.signal=n.signal,setTimeout(()=>n.abort(e),r)}),c>a&&i.Tb("Retries for fetch ".concat(t," exceeded MAX_RETRIES"));let _=c+1,v=null,p=null;do{c>0&&_!==c+1&&await new Promise(e=>setTimeout(e,s));let e=f();p=null;try{v=await fetch(t,d),clearTimeout(e);break}catch(e){p=e}clearTimeout(e),--_,s*=2}while(_>0);if(p)throw console.log("".concat(d.method," ").concat(t," exception: ").concat(p)),p._fetchMethod=d.method,p._fetchResource=t,p;return v},_=async e=>{var t,n;let{urlPath:o,timeoutMs:i,method:u,body:a,headers:c,baseUrlOverride:s,numRetries:d,backOffTime:_}=e,v={headers:{...(0,r.ds)(),...c}},p=null!==(n=null===(t=window)||void 0===t?void 0:t.location.hostname.includes("localhost"))&&void 0!==n&&n,h=l.env.NEXT_PUBLIC_USE_TOKEN_AUTH_FOR_SOCKET;if(p||h){let e=await (0,r.x1)();v.headers.Authorization="Bearer ".concat(e)}let E=null!=s?s:(0,r.k9)();return f({resource:(0,r.MP)(E,o),options:v,timeoutMs:i,method:u,body:a,numRetries:d,backOffTime:_})},v=e=>{var t;return null==e||e.productionMs,null==e||e.devMs,null!==(t=null==e?void 0:e.clientSideMs)&&void 0!==t?t:5e3},p=e=>{(0,o.x)("nextjs.ssr_render.rest_api_call.success",1,{fnName:e})},h=(e,t)=>{t instanceof Error&&E(e,(null==t?void 0:t.name)===u,{})},E=(e,t,n)=>{n=null!=n?n:{},(0,o.x)("nextjs.ssr_render.rest_api_call.failed",1,{fnName:e,wasTimeout:t,...n})}},9356:function(e,t,n){"use strict";n.d(t,{_R:function(){return L},NM:function(){return v},Wy:function(){return E},XE:function(){return a},V5:function(){return c},yY:function(){return S},lE:function(){return C},Dv:function(){return T},Ti:function(){return R},sN:function(){return h},oS:function(){return g},_O:function(){return w},U5:function(){return u},aV:function(){return P},uD:function(){return m},nS:function(){return d},_L:function(){return f},yx:function(){return _},Cv:function(){return p},OR:function(){return s},be:function(){return U}}),n(53573);var r=n(45257);let o=e=>e.helper_queries?e.helper_queries.map(e=>({icon:e.icon,queryKey:e.query_key,queryString:e.query_str,url:e.url})):[];n(12848),n(39788).z.enum(["light","dark"]);var i=n(3747),l=n(65902);let u=async e=>{let t="getRefreshSubscriptionStatus";try{let n=await (0,i.FX)({headers:e,urlPath:"/p/api/v1/user/subscription/refresh",timeoutMs:(0,i.vX)()}),r=await n.json();return(0,i.HL)(t),r}catch(e){return console.log("Error in ".concat(t,":"),e),(0,i.i8)(t,e),null}},a=async(e,t)=>{var n,r,o;let u="getDiscoverListFeedRestAsync",a=null!==(n=null==t?void 0:t.offset)&&void 0!==n?n:0,c=l.QC,s="?limit=".concat(20,"&offset=").concat(a,"&version=").concat(c),d=null!==(r=null==t?void 0:t.topic)&&void 0!==r?r:null;d&&"forYou"!==d&&(s+="&topic=".concat(d));try{let t=await (0,i.$e)({urlPath:"/rest/discover/feed".concat(s),timeoutMs:(0,i.vX)(),numRetries:1,headers:e}),n=await t.json();if("success"!==n.status)throw Error("Bad discover ".concat(u," response: ").concat(n));return(0,i.HL)(u),null!==(o=null==n?void 0:n.items)&&void 0!==o?o:[]}catch(e){return console.log("Error in ".concat(u,":"),e),(0,i.i8)(u,e),[]}},c=async e=>{let t="getDiscoverTopics";try{var n,r;let o=await (0,i.$e)({headers:e,urlPath:"/rest/discover/topics?version=".concat(l.QC),timeoutMs:(0,i.vX)(),numRetries:1});if(!o.ok){let e=await o.text();throw Error("Bad discover ".concat(t," response: ").concat(e))}(0,i.HL)(t);let u=await o.json();return{userSelectedTopics:null!==(n=null==u?void 0:u.user_selected_topics)&&void 0!==n?n:[],allTopics:null!==(r=null==u?void 0:u.all_topics)&&void 0!==r?r:[]}}catch(e){return console.log("Error in ".concat(t,":"),e),(0,i.i8)(t,e),{userSelectedTopics:[],allTopics:[]}}},s=async e=>{let{topics:t}=e,n="updateDiscoverUserInterestedTopics";try{let e=await (0,i.aX)({urlPath:"/rest/discover/topics",method:"PUT",body:JSON.stringify({topics:t,return_feed:!0,return_feed_limit:20,return_feed_version:l.QC}),headers:{"Content-Type":"application/json"},timeoutMs:(0,i.vX)(),numRetries:1});if(!e.ok){let t=await e.text();throw Error("Bad ".concat(n," response: ").concat(t))}(0,i.HL)(n);let r=(await e.json()).feed_items;return{status:"success",feedItems:r}}catch(e){throw(0,i.i8)(n,e),e}},d=async e=>{let t="getUserSettings";try{let n=await (0,i.$e)({urlPath:"/rest/user/settings",timeoutMs:(0,i.vX)({productionMs:2e3}),numRetries:i.aG,headers:e}),o=await n.json(),l=(0,r.Bk)(o);return(0,i.HL)(t),l}catch(e){return console.log("Error in ".concat(t,":"),e),(0,i.i8)(t,e),(0,r.Bk)({})}},f=async e=>{let{settings:t}=e,n="saveUserSettings";try{let e=await (0,i.aX)({urlPath:"/rest/user/save-settings",method:"PUT",body:JSON.stringify({updated_settings:t}),headers:{"Content-Type":"application/json"},timeoutMs:(0,i.vX)(),numRetries:1});if(!e.ok){let t=await e.text();throw Error("Bad ".concat(n," response: ").concat(t))}return(0,i.HL)(n),{status:"success"}}catch(e){throw(0,i.i8)(n,e),e}},_=async(e,t,n)=>{let r="shouldShowFeedback  ";try{var o;let l=await (0,i.$e)({urlPath:"/rest/entry/should-show-feedback/".concat(t),method:"POST",body:JSON.stringify({query:n}),timeoutMs:(0,i.vX)({productionMs:500}),numRetries:0,headers:{...e,"Content-Type":"application/json"}}),u=await l.json(),a=null!==(o=null==u?void 0:u.should_show_feedback)&&void 0!==o&&o;return(0,i.HL)(r),a}catch(e){return console.log("Error in ".concat(r,":"),e),(0,i.i8)(r,e),!1}},v=async(e,t,n)=>{var r,o,u,a;let c="getArticleByUUID";if(!e||"undefined"===e)return console.error("Tried to ".concat(c," with bad slugOrUUID: ").concat(e)),[];let s=null!==(r=null==n?void 0:n.version)&&void 0!==r?r:l.QC,d=null!==(o=null==n?void 0:n.source)&&void 0!==o?o:"web";try{let n=await (0,i.FX)({headers:t,urlPath:"/p/api/v1/article/".concat(e,"?version=").concat(s,"&source=").concat(d),timeoutMs:(0,i.vX)({productionMs:5e3}),numRetries:1}),r=await n.json();if("success"!==r.status){console.log("Unsuccessful ".concat(c," call:"),r);let e={error_code:null!==(u=null==r?void 0:r.error_code)&&void 0!==u?u:"unknown_error"};return(0,i.xo)(c,!1,e),[]}return(0,i.HL)(c),null!==(a=null==r?void 0:r.entries)&&void 0!==a?a:[]}catch(e){return console.log("Error in ".concat(c,":"),e),(0,i.i8)(c,e),[]}},p=async()=>{let e="signOutAllSessions";try{let n=await (0,i.$e)({urlPath:"/rest/user/sign-out-all",timeoutMs:(0,i.vX)({productionMs:5e3}),headers:{"X-Perplexity-CSRF-Protection":"1"},method:"POST",numRetries:1}),r=await n.json();if("success"!==r.status){var t;console.log("Unsuccessful ".concat(e," call:"),r);let n={error_code:null!==(t=null==r?void 0:r.error_code)&&void 0!==t?t:"unknown_error"};return(0,i.xo)(e,!1,n),!1}return(0,i.HL)(e),!0}catch(t){return console.log("Error in ".concat(e,":"),t),(0,i.i8)(e,t),!1}},h=async()=>{let e="getMaintenance";try{let t=await (0,i.$e)({urlPath:"/rest/maintenance",timeoutMs:(0,i.vX)({productionMs:5e3}),numRetries:1}),n=await t.json();return(0,i.HL)(e),n}catch(t){return console.log("Error in ".concat(e,":"),t),(0,i.i8)(e,t),!1}},E=async e=>{let t="getCustomerPortal";try{let n=await (0,i.$e)({urlPath:"/rest/billing/get-customer-portal",method:"GET",headers:e}),r=await n.json();if("success"!==r.status||null===r.url||""===r.url)return(0,i.xo)(t,!1),null;return(0,i.HL)(t),r.url}catch(e){return(0,i.i8)(t,e),null}},m=async e=>{let t="getUserOrganization",n={organization:null,orgUser:null,isInOrganization:!1};try{var r,o,l,u;let a=await (0,i.$e)({method:"GET",headers:e,urlPath:"/rest/enterprise/user/organization",timeoutMs:(0,i.vX)({productionMs:2e3}),numRetries:1}),c=await a.json();if("success"!==c.status){console.log("Unsuccessful ".concat(t," call:"),c);let e={error_code:null!==(r=null==c?void 0:c.error_code)&&void 0!==r?r:"unknown_error"};return(0,i.xo)(t,!1,e),n}return(0,i.HL)(t),{organization:null!==(o=null==c?void 0:c.organization)&&void 0!==o?o:null,orgUser:null!==(l=null==c?void 0:c.org_user)&&void 0!==l?l:null,isInOrganization:null!==(u=null==c?void 0:c.is_in_organization)&&void 0!==u&&u}}catch(e){return console.log("Error in ".concat(t,":"),e),(0,i.i8)(t,e),n}},g=async(e,t)=>{if(!e)throw Error("No email");let n=e.split("@"),r=n.length>=2?n[n.length-1]:null;if(!r)throw Error("No domain extracted from ".concat(e));return y(r,t)},y=async(e,t)=>{let n="getOrganizationFromDomain";try{var r,o;let l=await (0,i.FX)({headers:t,urlPath:"/p/api/v1/organization/domain/".concat(e),timeoutMs:(0,i.vX)({productionMs:4e3}),numRetries:1}),u=await l.json();if("success"!==u.status){console.log("Unsuccessful ".concat(n," call:"),u);let e={error_code:null!==(r=null==u?void 0:u.error_code)&&void 0!==r?r:"unknown_error"};throw(0,i.xo)(n,!1,e),Error("".concat(n," api call not successful"))}return(0,i.HL)(n),null!==(o=null==u?void 0:u.organization)&&void 0!==o?o:null}catch(e){throw console.log("Error in ".concat(n,":"),e),(0,i.i8)(n,e),e}},w=async(e,t)=>{var n,r,o,l,u,a,c,s,d;let f="getOrganizationUsers",_="";if(t){let e=null!==(n=t["user-limit"])&&void 0!==n?n:50,i=null!==(r=t["user-offset"])&&void 0!==r?r:0,u=null!==(o=t["invite-limit"])&&void 0!==o?o:50,a=null!==(l=t["invite-offset"])&&void 0!==l?l:0;_="?user-limit=".concat(e,"&user-offset=").concat(i,"&invite-limit=").concat(u,"&invite-offset=").concat(a)}try{let t=await (0,i.FX)({headers:e,urlPath:"/p/api/v1/user/organization/users".concat(_),timeoutMs:(0,i.vX)({productionMs:2e3}),numRetries:1}),n=await t.json();if("success"!==n.status){console.log("Unsuccessful ".concat(f," call:"),n);let e={error_code:null!==(u=null==n?void 0:n.error_code)&&void 0!==u?u:"unknown_error"};return(0,i.xo)(f,!1,e),null}return(0,i.HL)(f),{userList:null!==(a=null==n?void 0:n.user_list)&&void 0!==a?a:[],hasNextUserPage:null!==(c=null==n?void 0:n.hasNextUserPage)&&void 0!==c&&c,inviteList:null!==(s=null==n?void 0:n.invite_list)&&void 0!==s?s:[],hasNextInvitePage:null!==(d=null==n?void 0:n.hasNextInvitePage)&&void 0!==d&&d}}catch(e){return console.log("Error in ".concat(f,":"),e),(0,i.i8)(f,e),null}},T=async e=>{let{limit:t,campaign:n,locale:r,visitorId:l,userEmail:u,userId:a}=e,c="getHelperQueries";try{let e=await (0,i.aX)({urlPath:"/rest/helper-queries/",method:"POST",body:JSON.stringify({limit:t,campaign:n,locale:r,visitor_id:l,user_email:u,user_nextauth_id:a}),headers:{"Content-Type":"application/json"},timeoutMs:(0,i.vX)({productionMs:250}),numRetries:1}),s=await e.json();return(0,i.HL)(c),o(s)}catch(e){return(0,i.i8)(c,e),[]}},S=async e=>{let t="getFileDirectoryFiles",{fileRepositoryType:n,limit:r,offset:o,searchTerm:l,fileStates:u,email:a}=e;try{var c,s,d;let e={};e=u.includes("COMPLETE")?{file_repository_type:n,limit:r,offset:o,search_term:l,file_states_in_filter:u}:{file_repository_type:n,search_term:l,file_states_in_filter:u,email_in_filter:[a]};let f=await (0,i.$e)({urlPath:"/rest/file-repository/list-files",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),timeoutMs:(0,i.vX)(),numRetries:1}),_=await f.json();if(!f.ok){console.log("Unsuccessful ".concat(t," call:"),_);let e={error_code:null!==(c=null==_?void 0:_.error_code)&&void 0!==c?c:"unknown_error"};return(0,i.xo)(t,!1,e),null}return(0,i.HL)(t),{files:null!==(s=null==_?void 0:_.files)&&void 0!==s?s:[],numTotalFiles:null!==(d=null==_?void 0:_.num_total_files)&&void 0!==d?d:0}}catch(e){return console.log("Error in ".concat(t,":"),e),(0,i.i8)(t,e),null}},R=async()=>{try{let e=await (0,i.$e)({urlPath:"/rest/file-repository/enabled",method:"GET",headers:{"Content-Type":"application/json"},timeoutMs:(0,i.vX)(),numRetries:1});if(!e.ok)return!1;return await e.json()}catch(e){return console.error("Error fetching file search enabled status:",e),!1}},C=async e=>{let t="getFileUploadURL";try{let r=await (0,i.$e)({urlPath:"/rest/file-repository/get-file-upload-urls",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),timeoutMs:(0,i.vX)(),numRetries:1}),o=await r.json();if(!r.ok){var n;console.log("Unsuccessful ".concat(t," call:"),o);let e={error_code:null!==(n=null==o?void 0:o.error_code)&&void 0!==n?n:"unknown_error"};throw(0,i.xo)(t,!1,e),Error((null==o?void 0:o.message)||"Failed to get fileUploadUrl")}return(0,i.HL)(t),o}catch(e){throw console.log("Error in ".concat(t,":"),e),(0,i.i8)(t,e),e}},L=async(e,t,n)=>{let r="createConfirmPaymentIntent";try{let l=await (0,i.$e)({urlPath:"/rest/stripe/create-confirm-payment-intent",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmation_token_id:e,amount:t,product_url:n}),timeoutMs:(0,i.vX)(),numRetries:1}),u=await l.json();if(!l.ok){var o;console.log("Unsuccessful ".concat(r," call:"),u);let e={error_code:null!==(o=null==u?void 0:u.error_code)&&void 0!==o?o:"unknown_error"};throw(0,i.xo)(r,!1,e),Error((null==u?void 0:u.message)||"Failed to create payment intent")}return(0,i.HL)(r),u}catch(e){throw console.log("Error in ".concat(r,":"),e),(0,i.i8)(r,e),e}},U=async e=>{let t="uploadFilesToDirectory";try{let r=await (0,i.$e)({urlPath:"/rest/file-repository/index-files",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),timeoutMs:(0,i.vX)(),numRetries:1}),o=await r.json();if(!r.ok){var n;console.log("Unsuccessful ".concat(t," call:"),o);let e={error_code:null!==(n=null==o?void 0:o.error_code)&&void 0!==n?n:"unknown_error"};throw(0,i.xo)(t,!1,e),Error((null==o?void 0:o.message)||"Failed to upload file")}return(0,i.HL)(t),o}catch(e){throw console.log("Error in ".concat(t,":"),e),(0,i.i8)(t,e),e}},P=async()=>{let e="getUserConnectorsQuery";try{let t=await (0,i.$e)({urlPath:"/rest/connectors/settings",method:"GET",headers:{"Content-Type":"application/json"},timeoutMs:(0,i.vX)({productionMs:500}),numRetries:1}),n=await t.json();return(0,i.HL)(e),n}catch(t){return console.log("Error in ".concat(e,":"),t),(0,i.i8)(e,t),null}}},53573:function(e,t,n){"use strict";n.d(t,{A6:function(){return d},BJ:function(){return p},C8:function(){return _},Dq:function(){return E},H$:function(){return v},NJ:function(){return m},O5:function(){return h},Tw:function(){return s},d8:function(){return o},ej:function(){return i},mm:function(){return g},nJ:function(){return l},nm:function(){return c},qt:function(){return a},yG:function(){return f}}),n(33099);var r=n(36307);let o=(e,t,n)=>{r.Z.set(e,t,n)},i=e=>r.Z.get(e),l=e=>{r.Z.remove(e)},u="pplx.chosen-locale",a="pplx.la-status",c="pplx.mweb-splash-page-dismissed",s=1825,d=e=>{o(u,e,{expires:s})},f=()=>{var e;return null!==(e=i(u))&&void 0!==e?e:null},_=e=>{o("pplx.is-incognito",String(e),{})},v=e=>{o(c,String(e),{})},p=e=>{o("pplx.is-discover-interest-box-dismissed",String(e),{})},h=e=>{o("pplx.is-default-search-extension-install-clicked",String(e),{})},E=e=>{o(a,e,{})},m=e=>{o("pplx.is-enterprise-ad-dismissed",String(e),{})},g=()=>{var e;return null!==(e=i("pplx.visitor-id"))&&void 0!==e?e:null}},45257:function(e,t,n){"use strict";n.d(t,{Bk:function(){return c},gN:function(){return l},l3:function(){return u},rB:function(){return a}});var r=n(84385),o=n(55965);let i=e=>{let t=(0,r.bJ)(e);return t?t.answer.replace(o.O,""):null},l=e=>{var t,n,r,o,l,u,a,c,s,d,f;let _="article"===e.mode?"/page":"/search";return{title:null!==(u=e.title)&&void 0!==u?u:"",preview:i(e.first_answer),threadCount:e.query_count,lastUpdated:e.last_query_datetime,href:"".concat(_,"/").concat(e.slug),rwToken:e.read_write_token,focus:null!==(a=e.search_focus)&&void 0!==a?a:"internet",entryUUID:e.uuid,contextUUID:e.context_uuid,copilot:"copilot"===e.mode,socialInfo:e.social_info,collectionUUID:null!==(c=null===(t=e.collection)||void 0===t?void 0:t.uuid)&&void 0!==c?c:null,authorImage:null!==(s=e.author_image)&&void 0!==s?s:null,featuredImage:null!==(d=null==e?void 0:null===(r=e.featured_images)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.image)&&void 0!==d?d:null,thumbnailImage:null!==(f=null==e?void 0:null===(l=e.featured_images)||void 0===l?void 0:null===(o=l[0])||void 0===o?void 0:o.thumbnail)&&void 0!==f?f:null,threadAccess:e.thread_access,collection:e.collection,mode:e.mode}},u=e=>{var t,n,r,o,l,u,a,c,s,d,f,_;return{title:null!==(u=e.title)&&void 0!==u?u:"",href:"/page/".concat(e.slug),backendUUID:e.uuid,collectionUUID:null!==(a=null===(t=e.collection)||void 0===t?void 0:t.uuid)&&void 0!==a?a:null,authorImage:null!==(c=e.author_image)&&void 0!==c?c:null,authorUsername:null!==(s=e.author_username)&&void 0!==s?s:null,featuredImage:null!==(d=null==e?void 0:null===(r=e.featured_images)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.image)&&void 0!==d?d:null,collection:e.collection,socialInfo:e.social_info,accessLevel:null!==(f=e.access)&&void 0!==f?f:e.thread_access,preview:i(e.first_answer),offset:e.hero_offset,entryUUID:e.uuid,rwToken:e.read_write_token,lastUpdated:e.last_query_datetime,threadAccess:e.access,thumbnailImage:null!==(_=null==e?void 0:null===(l=e.featured_images)||void 0===l?void 0:null===(o=l[0])||void 0===o?void 0:o.thumbnail)&&void 0!==_?_:null,contextUUID:e.context_uuid,webResults:e.web_results_preview}},a={gpt4_limit:"gpt4Limit",opus_limit:"opusLimit",pages_limit:"pagesLimit",upload_limit:"uploadLimit",article_image_upload_limit:"articleImageUploadLimit",default_model:"defaultModel",default_image_generation_model:"defaultImageGenerationModel",query_count:"queryCount",query_count_copilot:"queryCountCopilot",query_count_mobile:"queryCountMobile",has_ai_profile:"hasAiProfile",referral_code:"referralCode",referral_num_success:"referralNumSuccess",disable_training:"disableTraining",default_copilot:"defaultCopilot",is_sidebar_collapsed:"isSidebarCollapsed",subscription_tier:"subscriptionTier",create_limit:"createLimit",notif_status:"notifStatus",email_status:"emailStatus",allow_article_creation:"allowArticleCreation",is_verified:"isVerified"},c=e=>{var t,n,r,o,i,l,u,a,c,s,d,f,_,v,p,h,E,m,g,y,w,T,S,R,C,L,U;return{hasLoadedSettings:!0,gpt4Limit:null!==(t=null==e?void 0:e.gpt4_limit)&&void 0!==t?t:0,opusLimit:null!==(n=null==e?void 0:e.opus_limit)&&void 0!==n?n:0,pagesLimit:null!==(r=null==e?void 0:e.pages_limit)&&void 0!==r?r:0,uploadLimit:null!==(o=null==e?void 0:e.upload_limit)&&void 0!==o?o:0,defaultModel:null!==(i=null==e?void 0:e.default_model)&&void 0!==i?i:"turbo",defaultImageGenerationModel:null!==(l=null==e?void 0:e.default_image_generation_model)&&void 0!==l?l:"default",articleImageUploadLimit:null!==(u=null==e?void 0:e.article_image_upload_limit)&&void 0!==u?u:0,queryCount:null!==(a=null==e?void 0:e.query_count)&&void 0!==a?a:0,queryCountCopilot:null!==(c=null==e?void 0:e.query_count_copilot)&&void 0!==c?c:0,queryCountMobile:null!==(s=null==e?void 0:e.query_count_mobile)&&void 0!==s?s:0,hasAiProfile:null!==(d=null==e?void 0:e.has_ai_profile)&&void 0!==d&&d,referralCode:null!==(f=null==e?void 0:e.referral_code)&&void 0!==f?f:"",referralNumSuccess:null!==(_=null==e?void 0:e.referral_num_success)&&void 0!==_?_:0,disableTraining:null!==(v=null==e?void 0:e.disable_training)&&void 0!==v&&v,defaultCopilot:null!==(p=null==e?void 0:e.default_copilot)&&void 0!==p&&p,isSidebarCollapsed:null!==(h=null==e?void 0:e.is_sidebar_collapsed)&&void 0!==h&&h,subscriptionTier:null!==(m=null!==(E=null==e?void 0:e.subscription_tier)&&void 0!==E?E:null==e?void 0:e.subscription_tier)&&void 0!==m?m:"null",stripeStatus:null!==(g=null==e?void 0:e.stripe_status)&&void 0!==g?g:"none",revenuecatStatus:null!==(y=null==e?void 0:e.revenuecat_status)&&void 0!==y?y:"none",revenuecatSource:null!==(w=null==e?void 0:e.revenuecat_source)&&void 0!==w?w:"none",createLimit:null!==(T=null==e?void 0:e.create_limit)&&void 0!==T?T:0,notifStatus:null!==(S=null==e?void 0:e.notif_status)&&void 0!==S?S:"daily",emailStatus:null!==(R=null==e?void 0:e.email_status)&&void 0!==R?R:"daily",hasDataRetentionWarning:null!==(C=null==e?void 0:e.has_data_retention_warning)&&void 0!==C&&C,allowArticleCreation:null!==(L=null==e?void 0:e.allow_article_creation)&&void 0!==L&&L,isVerified:null!==(U=null==e?void 0:e.is_verified)&&void 0!==U&&U}}},12848:function(e,t,n){"use strict";n.d(t,{B0:function(){return _},Dp:function(){return v},ID:function(){return i},IZ:function(){return a},LY:function(){return s},MP:function(){return h},N2:function(){return c},ds:function(){return f},k9:function(){return u},x1:function(){return p}});var r=n(65902);n(99556);var o=n(32608);let i="set_to_undefined"===o.env.NEXT_PUBLIC_DEFAULT_SOCKET_URL?void 0:o.env.NEXT_PUBLIC_DEFAULT_SOCKET_URL||"https://preview.perplexity.ai/",l=e=>window.location.hostname.includes("localhost")?e:"".concat(window.location.protocol,"//").concat(window.location.hostname),u=()=>{if(o.env.NEXT_PUBLIC_GLOBAL_SOCKET_URL_OVERRIDE)return o.env.NEXT_PUBLIC_GLOBAL_SOCKET_URL_OVERRIDE;if(!i)throw Error("No client socket URL provided");return l(i)},a=()=>o.env.EVENTLET_SERVER_REST_URL?o.env.EVENTLET_SERVER_REST_URL:o.env.SERVER_SOCKET_URL||i,c=()=>o.env.REST_ASYNC_SERVER_URL?o.env.REST_ASYNC_SERVER_URL:"http://default-web-server-async:5556",s=()=>o.env.NEXT_PUBLIC_REST_ASYNC_SERVER_URL?o.env.NEXT_PUBLIC_REST_ASYNC_SERVER_URL:l("https://testing.i.perplexity.ai"),d={reconnection:!0,reconnectionDelay:500,reconnectionDelayMax:5e3,reconnectionAttempts:999},f=()=>{let e={};return o.env.NEXT_PUBLIC_CF_ACCESS_ID&&(e["CF-Access-Client-Id"]=o.env.NEXT_PUBLIC_CF_ACCESS_ID),o.env.NEXT_PUBLIC_CF_ACCESS_SECRET&&(e["CF-Access-Client-Secret"]=o.env.NEXT_PUBLIC_CF_ACCESS_SECRET),o.env.NEXT_PUBLIC_PPL_DEV_HEADER_NAME&&o.env.NEXT_PUBLIC_PPL_DEV_HEADER_TOKEN&&(e[o.env.NEXT_PUBLIC_PPL_DEV_HEADER_NAME]=o.env.NEXT_PUBLIC_PPL_DEV_HEADER_TOKEN),o.env.PPL_VERCEL_SSR_CLIENT_HEADER_NAME&&o.env.PPL_VERCEL_SSR_CLIENT_HEADER_TOKEN&&(e[o.env.PPL_VERCEL_SSR_CLIENT_HEADER_NAME]=o.env.PPL_VERCEL_SSR_CLIENT_HEADER_TOKEN),o.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_NAME&&o.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_TOKEN&&(e[o.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_NAME]=o.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_TOKEN),e},_=()=>({auth:{jwt:"anonymous-ask-user"},extraHeaders:{...f()},...d}),v=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.emit;e.emit=function(i){for(var l=arguments.length,u=Array(l>1?l-1:0),a=1;a<l;a++)u[a-1]=arguments[a];let c=r.QC,s=n?r.oC:t?r.Ox:r.DI,d=u.length-1,f="function"==typeof u[d]?d-1:d;f>=0&&"object"==typeof u[f]&&null!==u[f]&&(u[f]={version:c,source:s,...u[f]}),o.call(e,i,...u)}},p=async()=>{let e=null;try{let t=await fetch("/api/auth/token",{headers:{"X-Token-Type":"Perplexity-JWT"}});e=(await t.json()).perplexity_jwt}catch(e){console.warn("Error getting dev token:",e)}return e},h=(e,t)=>{let n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,"");return"".concat(n,"/").concat(r)}},55965:function(e,t,n){"use strict";n.d(t,{K:function(){return i},O:function(){return o}});let r=/(\[\d{1,2}\])/,o=RegExp(r.source+"|"+/(\[\d{1,2},\s*\{ts:.*\}\])/.source),i=(e,t)=>{if(o.test(e)){var n,i;if(r.test(e)){let r=parseInt(e.substring(1,e.length-1))-1;return(null!==(n=null==t?void 0:t[r])&&void 0!==n?n:null)||null}{let n=e.indexOf(","),r=parseInt(e.substring(1,n))-1,o=null!==(i=null==t?void 0:t[r])&&void 0!==i?i:null;return o?(o.url=l(o.url,e),o):null}}return null},l=(e,t)=>{let n=e.split("&")[0],r=t.indexOf(":");if(-1===r)return n;let o=t.indexOf("}"),i=t.substring(r+1,o);return n+"&t=".concat(i)}},66998:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(32608);n(16212).lW,r.env.DD_AGENT_HOST;let o=function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4]}},84385:function(e,t,n){"use strict";n.d(t,{qY:function(){return h},QI:function(){return c},RP:function(){return f},Uz:function(){return p},uf:function(){return u},db:function(){return _},dz:function(){return E},G0:function(){return v},Mp:function(){return a},vl:function(){return s},EH:function(){return i},bJ:function(){return l},wU:function(){return d},aF:function(){return y}});var r=n(2146);let o=(e,t)=>{let n=window.localStorage.getItem(e);return[n?JSON.parse(n):t,t=>{window.localStorage.setItem(e,JSON.stringify(t))}]},i=e=>l(e.text),l=e=>{let t=null;try{if(t=JSON.parse(null!=e?e:""),Array.isArray(t)){var n;let e=t[t.length-1];"FINAL"==e.step_type&&(null==e?void 0:null===(n=e.content)||void 0===n?void 0:n.answer)!=null&&(t=JSON.parse(e.content.answer))}}catch(e){return null}return t},u=e=>{let t=Number(e);return isNaN(t)?(console.log("formatNumber number failed on: ".concat(e)),"0"):t.toLocaleString("en-US")},a=()=>(0,r.Z)(),c={status:"pending",uuid:a()},s=e=>e.some(e=>"pending"!==e.status),d=(e,t,n)=>{if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e),o=Object.keys(t);return r.length==o.length&&r.every(r=>n?n(e[r],t[r]):e[r]===t[r])},f=(e,t)=>{let n=new URL(e);return n.searchParams.delete("source"),n.searchParams.delete("s"),t&&(n.hash=t),n.searchParams.sort(),n.href};function _(e){try{return new Date(e.replace(/-/g,"/")).toLocaleString("en-US",{weekday:"long",hour:"numeric",minute:"numeric",hour12:!0})}catch(e){console.log(e)}return null}function v(e){return e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}function p(e,t,n){let r=new URL(e),o=r.searchParams;return o.set(t,n),r.search=o.toString(),r.toString()}let h=e=>{let t;if("string"==typeof e){if(isNaN(t=parseFloat(e)))throw Error("Invalid input: not a number")}else if("number"==typeof e)t=e;else throw Error("Invalid input: not a string or number");return t.toLocaleString("en-US")},E=()=>{let[e,t]=o("deviceInfo",{});if(0===Object.keys(e).length)try{navigator.hardwareConcurrency&&(e.hardwareConcurrency=navigator.hardwareConcurrency);let n=new Float32Array(1),r=new Uint8Array(n.buffer);n[0]=1/0,n[0]=n[0]-n[0];let o=r[3];o&&(e.architecture=o),window.screen.colorDepth&&(e.colorDepth=window.screen.colorDepth),window.screen.width&&window.screen.height&&(e.screenSize="".concat(window.screen.width,"x").concat(window.screen.height)),t(e)}catch(e){}return e},m=/\[(\d{1,2})(,\s*\{ts:\d+\})?\]/g,g=/(\n*^(("""+|'''+|```+)[A-Za-z0-9]*|#+ .*)$|^- |\*\*|\$\$|\||`|[-|]{3,})/gm;function y(e,t){let n=e.replace(g,"").replace(m,"").trim();if(n.length<=t)return n;{let e=n.slice(0,t).trim(),r=e.lastIndexOf(" ");return 2*r>t&&r<t-1?e.slice(0,r)+"...":e+"..."}}},65902:function(e,t,n){"use strict";n.d(t,{$P:function(){return V},$Y:function(){return M},Az:function(){return K},Ci:function(){return D},DI:function(){return C},FC:function(){return z},FO:function(){return T},Fv:function(){return u},GU:function(){return q},IB:function(){return m},Ik:function(){return B},Jp:function(){return E},Mc:function(){return d},Mg:function(){return w},N9:function(){return A},Ox:function(){return U},Pi:function(){return v},Pv:function(){return j},QC:function(){return R},Qk:function(){return p},Qn:function(){return y},Sh:function(){return b},Sz:function(){return P},U6:function(){return N},UR:function(){return Q},WU:function(){return o},Wn:function(){return a},Yu:function(){return x},Z4:function(){return O},_0:function(){return I},d2:function(){return $},ef:function(){return _},f4:function(){return X},fT:function(){return g},fn:function(){return c},k6:function(){return k},oB:function(){return H},oC:function(){return L},oW:function(){return S},pt:function(){return l},qC:function(){return G},rd:function(){return J},rs:function(){return s},uC:function(){return F},uE:function(){return f},uM:function(){return h}});var r,o,i=n(16330);let l={default:{termsOfService:"https://www.perplexity.ai/hub/legal/terms-of-service",privacyPolicy:"https://www.perplexity.ai/hub/legal/privacy-policy"},"ja-JP":{termsOfService:"https://www.perplexity.ai/ja/hub/legal/terms-of-service",privacyPolicy:"https://www.perplexity.ai/ja/hub/legal/privacy-policy"}},u="https://www.perplexity.ai/download-iphone",a="https://www.perplexity.ai/download-android",c=2e3,s=2e3,d=50,f=1e3,_=1500,v=100,p=400,h=4,E=500,m=5e3,g=26214400,y=10,w=2e3,T="https://ppl-ai-public.s3.amazonaws.com/static/img/pplx-default-preview.png",S="https://r2cdn.perplexity.ai/perplexity-pro-og.png",R="2.12",C="default",L="server",U="mweb",P="autodetect",b=["video/mp4","video/webm","video/ogg","video/quicktime","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/wav","application/msword","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-bzip","application/vnd.rar"],I=[".pdf",".txt",".py",".ipynb",".js",".jsx",".html",".css",".java",".cs",".php",".c",".cpp",".cxx",".h",".hpp",".rs",".R",".Rmd",".swift",".go",".rb",".kt",".kts",".ts",".tsx",".m",".scala",".rs",".dart",".lua",".pl",".pm",".t",".sh",".bash",".zsh",".csv",".log",".ini",".config",".json",".yaml",".yml",".toml",".lua",".sql",".bat",".md",".coffee",".tex",".latex",".less",".pptx",".docx"],N=I.join(","),x=[".jpeg",".jpg",".jpe",".jp2",".png",".gif",".bmp",".tiff",".tif",".svg",".webp",".ico",".avif",".heic",".heif"],O=x.join(","),A=[...I,...x],D=A.join(","),M="",j=i.uv.PUBLIC_READ,k=i.uv.PRIVATE_READ;(r=o||(o={})).INITIAL_QUERY="INITIAL_QUERY",r.USER_INPUT="USER_INPUT",r.SEARCH_WEB="SEARCH_WEB",r.SEARCH_RESULTS="SEARCH_RESULTS",r.ATTACHMENT="ATTACHMENT",r.TERMINATE="TERMINATE",r.USER_SKIP="USER_SKIP",r.USER_REGENERATE="USER_REGENERATE",r.USER_TEXT="USER_TEXT",r.USER_CHECKBOX="USER_CHECKBOX",r.PERSONALIZE="PERSONALIZE",r.PROMPT_INPUT="PROMPT_INPUT",r.PROMPT_TEXT="PROMPT_TEXT",r.WIDGET_RESULTS="WIDGET_RESULTS",r.SEARCH_WIDGET="SEARCH_WIDGET",r.FINAL="FINAL",r.PROMPT_CHECKBOX="PROMPT_CHECKBOX",r.PROMPT="PROMPT",r.CODE="CODE";let X="https://chrome.google.com/webstore/detail/perplexity-ai-search/bnaffjbjpgiagpondjlnneblepbdchol",H=["en-US"],B="onboarding",F="uninstall_default_search_extension",q="edu_referral_code",V="utm_source",z="backtoschool",K="/static/images/unlock-the-power.jpg",$="galaxy",G="/static/images/back-to-school-ad.png",J="/static/images/back-to-school-splash.png",Q="back-to-school"}}]);